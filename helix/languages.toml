[language-server.rust-analyzer.config]
imports = { preferPrelude = true, granularity = { group = "item", enforce = true }, prefix = "crate" }
check = { command = "clippy" }

[language-server.rust-analyzer.rustfmt]
extraArgs = ["+nightly"]

[language-server.pyright.config]
python.analysis.venvPath = "."
python.analysis.venv = ".venv"
python.analysis.lint = true
python.analysis.inlayHint.enable = true
python.analysis.autoSearchPaths = true
python.analysis.autoImportCompletions = true
python.analysis.diagnosticMode = "workspace"
python.analysis.typeCheckingMode = "standard"
python.analysis.useLibraryCodeForType = true
python.analysis.autoImoprtCompletion = true
python.analysis.reportOptionalSubscript = false
python.analysis.reportOptionalMemberAccess = false

[language-server.gopls]
command = "gopls"
config = { "gofumpt" = true, "local" = "goimports", "semanticTokens" = true, "staticcheck" = true, "verboseOutput" = true, usePlaceholders = true, completeUnimported = true, hints = { "assignVariableType" = true, "compositeLiteralFields" = true, "compositeLiteralTypes" = true, "constantValues" = true, "functionTypeParameters" = true, "parameterNames" = true, "rangeVariableTypes" = true } }

# refer to https://github.com/estin/simple-completion-language-server
[language-server.scls]
command = "simple-completion-language-server"

[[language]]
name = "json"
formatter = { command = "prettier", args = [
    "--parser",
    "json",
    "--tab-with",
    "2",
] }

[[language]]
name = "yaml"
auto-format = true
formatter = { command = "prettier", args = [
    "--parser",
    "yaml",
    "--tab-width",
    "2",
] }

[[language]]
name = "toml"
auto-format = true
formatter = { command = "prettier", args = [
    "--parser",
    "toml",
    "--tab-width",
    "2",
] }

[[language]]
name = "fish"
auto-format = true
formatter = { command = "fish_indent" }

[[language]]
name = "python"
auto-format = true
formatter = { command = "ruff", args = ["format", "-"] }

[[language]]
name = "rust"
language-servers = ["scls", "rust-analyzer"]
auto-format = true

[[language]]
name = "hcl"
auto-format = true
formatter = { command = "terraform", args = ["fmt", "-"] }

[[language]]
name = "tfvars"
auto-format = true
formatter = { command = "terraform", args = ["fmt", "-"] }

[[language]]
name = "go"
auto-format = true
formatter = { command = "goimports" }
